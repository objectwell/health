<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>我的不足</title>
    <link rel="stylesheet" href="./static/css/common.css">
    <link rel="stylesheet/less" type="text/less" href="./static/css/myAdvantage.less">
    <script src="static/js/less.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="result">
            <img src="./static/images/back.png" alt="">
            <p>
                本次共测试<span class="color_orange" id="total"></span>项 <br>
                其中有<span class="color_orange" id="advantage"></span>项不足
            </p>
        </div>
        <!--列表数据-->
        <div class="list_div">
            <!--身高体重-->
            <!--<div class="list_title">-->
                <!--<div class="left">-->
                    <!--<img src="./static/images/grip.png" alt="">-->
                    <!--<span>握力</span>-->
                <!--</div>-->
                <!--<div class="right">-->
                    <!--<span class="weight">25kg &nbsp;稍差</span>-->
                    <!--<img class="next" src="./static/images/next.png" alt="">-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="content">-->
                <!--<div class="line" style="height: 60px;background-color: dodgerblue;margin: .4rem 0;"></div>-->
                <!--<div class="index">-->
                    <!--<ul>-->
                        <!--<li>-->
                            <!--<img src="./static/images/me.png" alt="">-->
                            <!--<span>您的握力相当于34岁的水平</span>-->
                        <!--</li>-->
                        <!--<li>-->
                            <!--<img src="./static/images/other.png" alt="">-->
                            <!--<span>同龄人平均水平: 55.3kg</span>-->
                        <!--</li>-->
                        <!--<li>-->
                            <!--<img src="./static/images/attention.png" alt="">-->
                            <!--<span class="color_999">指标说明: 该指标反映人体心血管系统和呼吸系统机能水平 , 与您的心血管疾病风险密切相关</span>-->
                        <!--</li>-->
                        <!--<li>-->
                            <!--<table>-->
                                <!--<tr>-->
                                    <!--<td class="title" style="background-color: #effaff;">危害</td>-->
                                    <!--<td class="text" style="background-color: #e5f8ff;">-->
                                        <!--您的手臂肌肉力量较差，在提重物时很困难，影响日常生活; 同时手臂容易出现肌肉劳损, 骨质疏松, 骨折等风险, 应引起重视-->
                                    <!--</td>-->
                                <!--</tr>-->
                                <!--<tr>-->
                                    <!--<td class="title" style="background-color: #fdf8e2;">原因</td>-->
                                    <!--<td class="text" style="background-color: #fff5cd;">长期缺乏体育锻炼; 肌肉劳损; 伤病</td>-->
                                <!--</tr>-->
                                <!--<tr>-->
                                    <!--<td class="title" style="background-color: #f2fbea;">改善</td>-->
                                    <!--<td class="text" style="background-color: #eef8dd;">建议您通过规律的抗阻训练来增加上肢力量和体积, 从而提高握力</td>-->
                                <!--</tr>-->
                            <!--</table>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            <!--</div>-->

            <!--&lt;!&ndash;闭眼单脚站&ndash;&gt;-->
            <!--<div class="list_title">-->
                <!--<div class="left">-->
                    <!--<img src="./static/images/step.png" alt="">-->
                    <!--<span>闭眼单脚站</span>-->
                <!--</div>-->
                <!--<div class="right">-->
                    <!--<span class="weight">21S &nbsp;中等</span>-->
                    <!--<img class="next" src="./static/images/next.png" alt="">-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="content">-->
                <!--<div class="line" style="height: 60px;background-color: dodgerblue;margin: .4rem 0;"></div>-->
                <!--<div class="index">-->
                    <!--<ul>-->
                        <!--<li>-->
                            <!--<img src="./static/images/me.png" alt="">-->
                            <!--<span>您的台阶实验相当于35岁的水平</span>-->
                        <!--</li>-->
                        <!--<li>-->
                            <!--<img src="./static/images/other.png" alt="">-->
                            <!--<span>同龄人平均水平: 57.3kg</span>-->
                        <!--</li>-->
                        <!--<li>-->
                            <!--<img src="./static/images/attention.png" alt="">-->
                            <!--<span class="color_999">指标说明: 该指标反映人体的发育程度和营养状况 , 与您的代谢综合症，心血管疾病风险密切相关</span>-->
                        <!--</li>-->
                        <!--<li>-->
                            <!--<table>-->
                                <!--<tr>-->
                                    <!--<td class="title" style="background-color: #effaff;">危害</td>-->
                                    <!--<td class="text" style="background-color: #e5f8ff;">-->
                                        <!--您的手臂肌肉力量较差，在提重物时很困难，影响日常生活; 同时手臂容易出现肌肉劳损, 骨质疏松, 骨折等风险, 应引起重视-->
                                    <!--</td>-->
                                <!--</tr>-->
                                <!--<tr>-->
                                    <!--<td class="title" style="background-color: #fdf8e2;">原因</td>-->
                                    <!--<td class="text" style="background-color: #fff5cd;">长期缺乏体育锻炼; 肌肉劳损; 伤病</td>-->
                                <!--</tr>-->
                                <!--<tr>-->
                                    <!--<td class="title" style="background-color: #f2fbea;">改善</td>-->
                                    <!--<td class="text" style="background-color: #eef8dd;">建议您通过规律的抗阻训练来增加上肢力量和体积, 从而提高握力</td>-->
                                <!--</tr>-->
                            <!--</table>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</div>-->
            <!--</div>-->
        </div>
    </div>
</body>
<script src="static/js/rem.js"></script>
<script src="static/js/jquery.min.js"></script>
<script src="static/js/common.js"></script>
<script src="static/js/config.js"></script>
<script>
    $(".result img").click(function () {
        window.history.go(-1);
    });

    ajaxRequest(AJAX_API.myInsufficient, "GET", {}, function (res) {
        console.log(res);
        if (res.code == 200) {
            $("#total").html(res.data.total);
            $("#advantage").html(res.data.advantage);
            var data = res.data.classify;
            for (var i = 0; i < data.length; i++) {
                var html = "";
                html+='<div class="classify active">\
                        <div class="left">\
                            <img src="./static/images/meter.png" alt="">\
                            <span>'+data[i].title+'</span>\
                        </div>\
                        <div class="right">\
                            <span class="weight">'+data[i].value+' &nbsp;'+data[i].grade+'</span>\
                            <img class="next" src="./static/images/next.png" alt="">\
                        </div>\
                        </div>\
                        <div class="content">\
                            <div class="layout"><div class="range" ></div></div>\
                            <div class="index">\
                                <ul>\
                                    <li>\
                                        <img src="./static/images/me.png" alt="">\
                                        <span>'+data[i].description+'</span>\
                                    </li>\
                                    <li>\
                                    <img src="./static/images/other.png" alt="">\
                                    <span>同龄人平均水平: '+data[i].average+'</span>\
                                    </li>\
                                    <li>\
                                    <img src="./static/images/attention.png" alt="">\
                                    <span class="color_999">指标说明: '+data[i].explain+'</span>\
                                    </li>\
                                    <li>\
                                        <table>\
                                            <tr>\
                                                <td class="title" style="background-color: #effaff;">危害</td>\
                                                <td class="text" style="background-color: #e5f8ff;">'+data[i].harm+'</td>\
                                            </tr>\
                                            <tr>\
                                                <td class="title" style="background-color: #fdf8e2;">原因</td>\
                                                <td class="text" style="background-color: #fff5cd;">'+data[i].cause+'</td>\
                                            </tr>\
                                            <tr>\
                                                <td class="title" style="background-color: #f2fbea;">改善</td>\
                                                <td class="text" style="background-color: #eef8dd;">'+data[i].improve+'</td>\
                                            </tr>\
                                    </li>\
                                <ul>\
                            </div>\
                        </div>';
                $(".list_div").append(html);

                var range = $(".range");
                var $ul = $('<ul class="range-ul clearfix"></ul>');
                var textArr = data[i].rangeText;
                if(textArr.length>0){
                    var liWidth = (range.width()-1) / data[i].rangeNub;
                    $.each(textArr,function(item,text){
                        var text = text;
                        var $li = $('<li></li>');
                        var $rangeText = $('<div class="range-text">'+ text +'</div>').appendTo($li);
                        var $renge = $('<div class="range-item"></div>').appendTo($li);
                        $renge.css("background-color",data[i].rangeColor [item]|| "green");
                        $li.css("width",liWidth);
                        if(data[i].rangeData[(item)]!=undefined){
                            var $rangeValue = $('<p class="range-value">'+ data[i].rangeData[(item)] +'</p>').appendTo($li);
                        }
                        $ul.append($li)
                    })
                }
                var $dian = $('<span class="range-dian"></span>');
                left = range.width()*data[i].rangeValue/100;
                for(var j = 0;j<range.length;j++){
                    $dian.css("left",left).appendTo(range[j])
                }
            }
            range.append($ul);
        }else{
            alert(res.msg)
        }
    })
</script>
</html>